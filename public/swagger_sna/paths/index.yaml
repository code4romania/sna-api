/institutions/{type}:
  get:
    summary: Get institutions by type
    parameters:
      - name: type
        in: path
        description: Type of the institution - anticorruption, ministry or county
        type: string
        required: true
      - name: Authorization
        in: header
        description: JWT Token
        type: string
        required: true
    description: |
      The list of institutions.
    tags:
      - Institutions
    responses:
      200:
        description: An array of institutions
        schema:
          type: array
          items:
            $ref: ../definitions/Institution.yaml
      400:
        description: Bad request. {type} should be anticorruption, ministry or county
      default:
        description: Unexpected error
        schema:
          $ref: ../definitions/Error.yaml
/counties:
  get:
    summary: Get all counties
    parameters:
      - name: Authorization
        in: header
        description: JWT Token
        type: string
        required: true
    description: |
      The list of counties.
    tags:
      - Counties
    responses:
      200:
        description: An array of counties
        schema:
          type: array
          items:
            $ref: ../definitions/County.yaml
      default:
        description: Unexpected error
        schema:
          $ref: ../definitions/Error.yaml
/questions:
  get:
    summary: Get all questions
    parameters:
      - name: Authorization
        in: header
        description: JWT Token
        type: string
        required: true
    description: |
      The list of questions to answer for the institution.
    tags:
      - Questions
    responses:
      200:
        description: An array of questions
        schema:
          type: array
          items:
            $ref: ../definitions/Question.yaml
      default:
        description: Unexpected error
        schema:
          $ref: ../definitions/Error.yaml
/questions/{step}:
  get:
    summary: Get all questions corresponding to one specific step
    parameters:
      - name: step
        in: path
        description: Currently, the questions are divided in 12 steps. Requests with {step} gt 12 will return an empty array
        type: integer
        required: true
      - name: Authorization
        in: header
        description: JWT Token
        type: string
        required: true
    description: |
      The list of questions to answer corresponding to one specific step
    tags:
      - Questions
    responses:
      200:
        description: An array of questions
        schema:
          type: array
          items:
            $ref: ../definitions/Question.yaml
      400:
        description: Bad request. {step} should be a positive integer
      default:
        description: Unexpected error
        schema:
          $ref: ../definitions/Error.yaml
/answer/{institutionId}/{questionId}:
  get:
    summary: Get an institution's answer to a question.
    parameters:
      - name: Authorization
        in: header
        description: JWT Token
        type: string
        required: true
      - name: institutionId
        in: path
        description: The id of the institution or county the answer is for.
        type: integer
        required: true
      - name: questionId
        in: path
        description: The in of the question the answer is for.
        type: integer
        required: true
      - name: year
        in: query
        description: The year the answer is for. If no year is set then the current one is used.
        type: integer
        required: false

    description: |
      Gets the answer for a question and institution for a specific year.
    tags:
      - Answers
    responses:
      200:
        description: Answer
        schema:
          $ref: ../definitions/Answer.yaml
      default:
        description: Unexpected error
        schema:
          $ref: ../definitions/Error.yaml
/answers/{institutionId}/{step}:
  get:
    summary: Get an institution's answer to all the questions in a step.
    parameters:
      - name: Authorization
        in: header
        description: JWT Token
        type: string
        required: true
      - name: institutionId
        in: path
        description: The id of the institution or county the answers are for.
        type: integer
        required: true
      - name: step
        in: path
        description: The number of the step the answers are for.
        type: integer
        required: true
      - name: year
        in: query
        description: The year the answers are for. If no year is set then the current one is used.
        type: integer
        required: false

    description: |
      Gets the answers for the questions and institution for a specific year and step.
    tags:
      - Answers
    responses:
      200:
        description: Answers
        schema:
          type: array
          items:
            $ref: ../definitions/Answer.yaml
      default:
        description: Unexpected error
        schema:
          $ref: ../definitions/Error.yaml
/answer:
  post:
    summary: Post an answer for a question
    parameters:
      - name: Authorization
        in: header
        description: JWT Token
        type: string
        required: true
      - name: questionId
        in: query
        description: The id of the question the answer is for.
        type: integer
        required: true
      - name: answer
        in: query
        description: The answer for the question
        type: string
        required: true

    description: |
      Posts an answer to a question
    tags:
      - Answers
    responses:
      200:
        description: Status ok
        schema:
          $ref: ../definitions/StatusOK.yaml
      default:
        description: Unexpected error
        schema:
          $ref: ../definitions/Error.yaml
